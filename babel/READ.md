## babel原理分析

## AST
```bash
# 什么是AST
1、抽象语法树，是源代码抽象语法结构的树状表现形式。webpack、eslint等工具都是通过抽象语法树概念来实现对代码的检查、分析等操作。
2、AST语法树结构：
（1）、AST是一个对象；
（2）、对象有一个顶级的type属性：Program
（3）、对象有一个body属性，为一个数组
（4）、body数组中存放的每一项都是一个对象，对象包含了所有对于该语句的描述信息
3、词法分析和语法分析
Javascript是解释性语言，一般通过词法分析->语法分析->语法树，就可以开始解释执行。
（1）、词法分析：即是扫描，是将字符串流转化成记号流(tokens),读取代码后按照一定规则合成一个个标识。
（2）、语法分析：也称解析器，将词法分析出来的数组转化成树的形式，同时验证语法

# AST的功能
1、语法检查、代码风格检查、格式化代码、语法高亮、错误提示、自动补全等
2、代码混淆压缩
3、优化变更代码，改变代码结构等。

# AST解析流程
1、代码解析成ast
2、通过travsrse对ast进行遍历，并做转换
3、将转换后的ast通过generator生成浏览器可以识别的代码

# babel工作原理
1、babel作用: ES6以来，babel解决部分浏览器不兼容ES6的问题，将ES6的代码转化成ES5代码。babel转化代码就用了ast
2、babel工作原理：
（1）、babel通过在.babelrc文件中的配置项（presets:预设和plugins:插件）将ast进行代码转换；
（2）、presets:预设和plugins:插件的区别：presets是plugin的集合，一个perset包含多个plugin

# 编写插件
```